<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="../static/lib/bootstrap/css/bootstrap.min.css" th:href="@{/lib/bootstrap/css/bootstrap.min.css}">
  <link rel="stylesheet" href="../static/lib/animate/animate.css" th:href="@{/lib/animate/animate.css}">
  <link rel="stylesheet" href="../static/lib/editormd/css/editormd.min.css" th:href="@{/lib/editormd/css/editormd.min.css}">
  <link rel="stylesheet" href="../static/lib/fontawesome/css/font-awesome.min.css" th:href="@{/lib/fontawesome/css/font-awesome.min.css}">
  <link rel="stylesheet" href="../static/lib/highlight/agate.min.css" th:href="@{/lib/highlight/agate.min.css}">
  <link rel="stylesheet" href="../static/css/me.css" th:href="@{/css/me.css}">
  <link rel="stylesheet" href="../static/css/login.css" th:href="@{/css/login.css}">
  <title>注册</title>
</head>
<body th:style="'background-image: url('+@{/images/background.jpg}+');'">
<nav class="navbar bg-dark navbar-dark py-sm-1 fixed-top">
  <div class="container-sm h-100">
    <a class="navbar-brand h-100" href="./" th:href="@{/}">
      <img src="../static/images/kuayue_logo.png"
           th:src="@{/images/kuayue_logo.png}" alt="logo" style="max-height: 30px">
      <span class="nav_bar_button"><strong>跨越</strong>&nbsp;|&nbsp;Kuayue</span>
    </a>

    <a class="nav-link nav_bar_button margin-left-right-normal h-100" href="download.html" th:href="@{/download}">下载</a>
    <a class="nav-link nav_bar_button margin-left-right-normal h-100" href="gallery.html" th:href="@{/gallery}">画廊</a>
    <a class="nav-link nav_bar_button margin-left-right-normal h-100" href="wiki.html" th:href="@{/wiki}">百科</a>
    <a class="nav-link nav_bar_button margin-left-right-normal h-100" href="schematic.html" th:href="@{/schematic}">蓝图</a>
    <a class="nav-link nav_bar_button margin-left-right-normal h-100" href="bbs_entrance.html" th:href="@{/bbs_entrance}">论坛</a>

  </div>
</nav>

<div class="container-sm" style="margin-top: 5em; margin-bottom: 5em">
  <div class="bg-light animate__animated animate__fadeIn" id="loginBar">
    <div style="text-align: center">
      <img src="../static/images/kuayue_logo2.png" th:src="@{/images/kuayue_logo2.png}" style="max-height: 70px">
      <span style="margin-left: 5px; letter-spacing: 2px; font-size: x-large; font-weight: 550">用户注册</span>
    </div>
    <form action="index.html" th:action="@{/userSignUp}" method="post" class="needs-validation" novalidate>
      <div class="mb-3 form-group">
        <label for="usernameInput" class="form-label m-xiaokai">用户名<span style="color: red;">*</span></label>
        <input type="text" id="usernameInput" class="form-control" placeholder="3-16位,可使用字母,数字,下划线与负号" name="username" required>
<!--        <div class="invalid-feedback">请输入用户名！</div>-->
        <div id="usernameCheckInfo" style="font-size: small" class="m-xiaokai"></div>
      </div>
      <div class="mb-3 form-group">
        <label for="passwordInput" class="form-label m-xiaokai">密码<span style="color: red;">*</span></label>
        <input type="password" id="passwordInput" class="form-control" placeholder="6-16位,可使用字母,数字与特殊符号" name="password" required>
        <div class="invalid-feedback">请输入密码！</div>
        <div id="passwordCheckInfo" style="font-size: small" class="m-xiaokai"></div>
      </div>
      <div class="mb-3 form-group">
        <label for="passwordConfirmInput" class="form-label m-xiaokai">确认密码<span style="color: red;">*</span></label>
        <input type="password" id="passwordConfirmInput" class="form-control" placeholder="请确认密码" required>
        <div class="invalid-feedback">请确认密码！</div>
        <div id="passwordConfirmCheckInfo" style="font-size: small" class="m-xiaokai"></div>
      </div>
      <div class="mb-3 form-group">
        <label for="emailInput" class="form-label m-xiaokai">邮箱<span style="color: red;">*</span></label>
        <input type="text" id="emailInput" class="form-control" placeholder="请输入邮箱" name="email" required>
        <div class="invalid-feedback">请输入邮箱！</div>
        <div id="emailCheckInfo" style="font-size: small" class="m-xiaokai"></div>
      </div>
      <div class="mb-3 form-group">
        <label for="nicknameInput" class="form-label m-xiaokai">昵称<span style="color: red;">*</span></label>
        <input type="text" id="nicknameInput" class="form-control" placeholder="1-16位,可使用字母,数字,中文字符" name="nickname" required>
        <div class="invalid-feedback">请输入昵称！</div>
        <div id="nicknameCheckInfo" style="font-size: small" class="m-xiaokai"></div>
      </div>
      <div class="mb-5 form-group" id="imgCode">
        <label for="code" class="form-label m-xiaokai">验证码<span style="color: red;">*</span></label>
        <div class="input-group">
          <input type="text" placeholder="请输入验证码" name="code" autocomplete="off" id="code" class="form-control" required>
          <img class="input-group-text" th:src="@{/login/getCode}" onclick="this.src = this.src + '?'">
          <div class="invalid-feedback">请输入验证码！</div>
        </div>
      </div>
      <div class="d-grid gap-2 col-6 mx-auto mb-3">
        <button id="submitBtn" type="submit" class="btn btn-dark">注册</button>
      </div>
      <div id="failure-info" class="alert alert-danger" role="alert" th:unless="${#strings.isEmpty(signUpMessage)}" th:text="${signUpMessage}">注册失败！</div>
    </form>
  </div>
</div>

<div class="fixed-bottom bottom_bar wiki_bottom_bar col-4" id="bottom_bar" style="margin-left: 1em; z-index: -1">
  <div class="align_left">
    <a class="nav_bar_button" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=45128102451361">桂公网安备 45128102451361号</a> <br />
    <a class="nav_bar_button" href="https://beian.miit.gov.cn/">桂ICP备2022002550号</a>
  </div>
  <div style="color: whitesmoke">
    Kuayue&nbsp;Development&nbsp;Group&nbsp;&nbsp;2023<br/>
    跨越开发组&nbsp;&nbsp;2023
  </div>
</div>

<script src="../static/lib/jquery/jquery-3.7.1.js" th:src="@{/lib/jquery/jquery-3.7.1.js}"></script>
<script src="../static/lib/bootstrap/js/bootstrap.bundle.min.js" th:src="@{/lib/bootstrap/js/bootstrap.bundle.min.js}"></script>
<script src="../static/lib/editormd/editormd.min.js" th:src="@{/lib/editormd/editormd.min.js}"></script>
<script src="../static/lib/highlight/highlight.min.js" th:src="@{/lib/highlight/highlight.min.js}"></script>
<script src="../static/js/signup_page.js" th:src="@{/js/signup_page.js}"></script>

<script>
  //点击输入栏隐藏警告框
  $('.form-control').click(function () {
    console.log('click form-control!')
    $('#failure-info').hide();
  })
</script>

<style>
  #loginBar {
    max-width: 400px;
    border-radius: 10px;
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 1em;
    padding-right: 1em;
    margin: 0 auto;
  }
</style>
</body>
</html>
