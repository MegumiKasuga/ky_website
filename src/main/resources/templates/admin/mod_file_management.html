<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../static/lib/bootstrap/css/bootstrap.min.css" th:href="@{/lib/bootstrap/css/bootstrap.min.css}">
    <link rel="stylesheet" href="../../static/lib/animate/animate.css" th:href="@{/lib/animate/animate.css}">
    <link rel="stylesheet" href="../../static/lib/fontawesome/css/font-awesome.css" th:href="@{/lib/fontawesome/css/font-awesome.min.css}">
    <link rel="stylesheet" href="../../static/lib/highlight/agate.min.css" th:href="@{/lib/highlight/agate.min.css}">
    <link rel="stylesheet" href="../../static/lib/bootstrap/css/bootstrap.rtl.css" th:href="@{/lib/bootstrap/css/bootstrap.rtl.css}">
    <link rel="stylesheet" href="../../static/css/download-page.css" th:href="@{/css/download-page.css}">
    <link rel="stylesheet" href="../../static/css/me.css" th:href="@{/css/me.css}">
    <link rel="stylesheet" href="../../static/css/gallery-page.css" th:href="@{/css/gallery-page.css}">
    <link rel="stylesheet" href="../../static/css/wiki-page.css" th:href="@{/css/wiki-page.css}">
    <!-- @{/} 斜杠开头表示相对整个应用根目录，此处必须这样写。不然在提交/admin/modFileManagement请求时会在静态资源路径上加上/admin导致404错误。 -->
    <title>MOD文件管理</title>
</head>
<body>
    <nav class="navbar navbar-dark py-sm-1 fixed-top" id="nav_bar">
        <div class="container-lg row h-100">
            <a class="navbar-brand col-3 h-100" href="./" th:href="@{/}">
                <img src="../../static/images/kuayue_logo.png" th:src="@{/images/kuayue_logo.png}" alt="logo" class="w-25">
                <span class="nav_bar_button"><strong>跨越</strong>&nbsp;|&nbsp;Kuayue</span>
            </a>
            <div class="col-1 h-100 no_padding no_border no_background_color nav_bar_button">
                <a href="../download.html" th:href="@{/download}" class="no_text_decoration"><span class="nav_bar_button">下载</span></a>
            </div>
            <div class="col-1 h-100 no_padding no_border no_background_color nav_bar_button">
                <a href="../gallery.html" th:href="@{/gallery}" class="no_text_decoration"><span class="nav_bar_button">画廊</span></a>
            </div>
            <div class="col-1 h-100 no_padding no_border no_background_color nav_bar_button">
                <a href="../wiki.html" th:href="@{/wiki}" class="no_text_decoration"><span class="nav_bar_button">百科</span></a>
            </div>
            <div class="col-1 h-100 no_padding no_border no_background_color nav_bar_button">
                <a href="../schematic.html" th:href="@{/schematic}" class="no_text_decoration"><span class="nav_bar_button">蓝图</span></a>
            </div>
            <div class="col-1 h-100 no_padding no_border no_background_color nav_bar_button">
                <a href="../bbs_entrance.html" th:href="@{/bbs_entrance}" class="no_text_decoration"><span class="nav_bar_button">论坛</span></a>
            </div>

            <div class="col-3 h-100 no_padding no_border no_background_color">
                <div style="float: right">
                    <div class="dropdown">
                        <a class="nav_bar_button dropdown-toggle" data-bs-toggle="dropdown" href="#">
                            <span th:text="${session.userInfo.nickname}">用户昵称</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#" th:href="@{/admin/user}" class="dropdown-item">个人主页</a></li>
                            <li><a href="#" th:href="@{/admin/logout}" class="dropdown-item">退出登录</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <h1 style="color: whitesmoke; margin-top: 3em; margin-left: 1em">MOD文件管理</h1>

    <div id="waypoint" class="container-sm animate__animated animate__fadeIn" style="margin-top: 10em; margin-bottom: 10em">
        <div class="row">
            <div class="col-10 bg-light" style="border-radius: 10px">
                <div>
                    <h1 style="margin-top: 0.5em; margin-left: 0.2em" class="m-xiaokai">文件列表</h1>
                </div>
                <hr>
                <table class="table">
                    <thead class="table-dark">
                    <tr>
                        <th>运行环境</th>
                        <th>MOD文件名</th>
                        <th>MC版本</th>
                        <th>下载量</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="file : ${allModFiles}">
                        <td th:text="${file.id}">1</td>
                        <td th:text="${file.modFileName}">aa.txt</td>
                        <td th:text="${file.MCVersion}">uuid.txt</td>
                        <td th:text="${file.downloadCounts}">.txt</td>
                    </tr>
                    <tr>
                        <td>forge</td>
                        <td>kuayue-0.3.5m-izayoi_sakuya-rc2.jar</td>
                        <td>1.20.1</td>
                        <td>776</td>
                        <td>
                            <a href="#" class="download_button" style="text-decoration: none">下载</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script type="text/javascript" th:inline="javascript">
        window.onload = function () {
            // let user = [[${session.userInfo}]];
            // let session = [[${session}]];
        }
    </script>

    <script src="../../static/lib/jquery/jquery-3.7.1.js" th:src="@{/lib/jquery/jquery-3.7.1.js}"></script>
    <script src="../../static/lib/bootstrap/js/bootstrap.bundle.min.js" th:src="@{/lib/bootstrap/js/bootstrap.bundle.min.js}"></script>
    <script src="../../static/lib/highlight/highlight.min.js" th:src="@{/lib/highlight/highlight.min.js}"></script>
    <script src="../../static/lib/waypoints/jquery.waypoints.min.js" th:src="@{/lib/waypoints/jquery.waypoints.min.js}"></script>
    <script src="../../static/js/home_page.js" th:src="@{/js/home_page.js}"></script>
</body>
</html>
