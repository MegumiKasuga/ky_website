<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../static/lib/bootstrap/css/bootstrap.min.css" th:href="@{/lib/bootstrap/css/bootstrap.min.css}">
    <link rel="stylesheet" href="../../static/lib/animate/animate.css" th:href="@{/lib/animate/animate.css}">
    <link rel="stylesheet" href="../../static/lib/fontawesome/css/font-awesome.css" th:href="@{/lib/fontawesome/css/font-awesome.min.css}">
    <link rel="stylesheet" href="../../static/lib/highlight/agate.min.css" th:href="@{/lib/highlight/agate.min.css}">
    <link rel="stylesheet" href="../../static/lib/bootstrap/css/bootstrap.rtl.css" th:href="@{/lib/bootstrap/css/bootstrap.rtl.css}">
    <link rel="stylesheet" href="../../static/css/download-page.css" th:href="@{/css/download-page.css}">
    <link rel="stylesheet" href="../../static/css/me.css" th:href="@{/css/me.css}">
    <link rel="stylesheet" href="../../static/css/gallery-page.css" th:href="@{/css/gallery-page.css}">
    <link rel="stylesheet" href="../../static/css/wiki-page.css" th:href="@{/css/wiki-page.css}">
    <title th:text="${session.user.nickname}+'的主页'">用户主页</title>
</head>
<body>

    <nav class="navbar navbar-dark py-sm-1 fixed-top" id="nav_bar">
        <div class="container-lg row h-100">
            <a class="navbar-brand col-3 h-100" href="./" th:href="@{/}">
                <img src="../../static/images/kuayue_logo.png" th:src="@{/images/kuayue_logo.png}" alt="logo" class="w-25">
                <span class="nav_bar_button"><strong>跨越</strong>&nbsp;|&nbsp;Kuayue</span>
            </a>
            <div class="col-1 h-100 dropdown">
                <a class="nav_bar_button dropdown-toggle" data-bs-toggle="dropdown" href="#">主站</a>
                <ul class="dropdown-menu">
                    <li><a href="#" th:href="@{/download}" class="dropdown-item" target="_blank">下载</a></li>
                    <li><a href="#" th:href="@{/gallery}" class="dropdown-item" target="_blank">画廊</a></li>
                    <li><a href="#" th:href="@{/wiki}" class="dropdown-item" target="_blank">百科</a></li>
                    <li><a href="#" th:href="@{/schematic}" class="dropdown-item" target="_blank">蓝图</a></li>
                    <li><a href="#" th:href="@{/bbs_entrance}" class="dropdown-item" target="_blank">论坛</a></li>
                </ul>
            </div>
            <div th:if="${session.user.role} == '1'" class="col-2 h-100 no_padding no_border no_background_color nav_bar_button">
                <a href="../download.html" th:href="@{/admin/modFileManagement}" class="no_text_decoration"><span class="nav_bar_button">MOD文件管理</span></a>
            </div>
            <div class="col-3"></div>

            <div class="col-2 h-100 no_padding no_border no_background_color">
                <div style="float: right">
                    <div class="dropdown">
                        <a class="nav_bar_button dropdown-toggle" data-bs-toggle="dropdown" href="#">
                            <img src="../../static/images/avatar/ayaka1.png" th:src="@{${session.user.avatar}}" style="max-width: 30px">
                            <span th:text="${session.user.nickname}">用户昵称</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#" th:href="@{/admin/user}" class="dropdown-item">个人主页</a></li>
                            <li><a href="#" th:href="@{/admin/logout}" class="dropdown-item">退出登录</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container px-4 py-5 bg-light animate__animated animate__fadeIn" id="icon-grid" style="margin-top: 5em; margin-bottom: 5em; border-radius: 10px">
        <div class="p-5 mb-4 rounded-3 align-items-md-stretch" style="background-color: #7093DB">
            <img src="../../static/images/avatar/ayaka1.png" th:src="@{${session.user.avatar}}" class="img-thumbnail"
                 style="max-width: 200px; margin: auto; display: block">
            <h5 style="text-align: center; margin-top: 0.5em; color: whitesmoke" th:text="${session.user.nickname}">用户昵称</h5>
        </div>
        <h2 class="pb-2">用户信息</h2>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4 py-5">
            <div class="col d-flex align-items-start">
                <div>
                    <h3 class="fw-bold mb-0 fs-4">uid</h3><hr>
                    <p th:text="${session.user.id}">用户id</p>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div>
                    <h3 class="fw-bold mb-0 fs-4">用户名</h3><hr>
                    <p th:text="${session.user.username}">用户名</p>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div>
                    <h3 class="fw-bold mb-0 fs-4">用户组</h3><hr>
                    <p th:text="${session.user.role eq '1'} ? '管理员' : '注册用户'">用户组</p>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div>
                    <h3 class="fw-bold mb-0 fs-4">用户积分</h3><hr>
                    <p th:text="${session.user.score}">用户积分</p>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div>
                    <h3 class="fw-bold mb-0 fs-4">邮箱</h3><hr>
                    <p th:text="${session.user.email}">邮箱</p>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div>
                    <h3 class="fw-bold mb-0 fs-4">注册时间</h3><hr>
                    <p th:text="${session.user.signUpTime}">注册时间</p>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div>
                    <h3 class="fw-bold mb-0 fs-4">注册IP地址</h3><hr>
                    <p th:text="${session.user.signUpIpAddress}">注册IP地址</p>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div>
                    <h3 class="fw-bold mb-0 fs-4">上次登录时间</h3><hr>
                    <p th:text="${session.user.latestLoginTime}">上次登录时间</p>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div>
                    <h3 class="fw-bold mb-0 fs-4">上次登录IP地址</h3><hr>
                    <p th:text="${session.user.latestIpAddress}">上次登录IP地址</p>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div>
                    <h3 class="fw-bold mb-0 fs-4">上次登录地点</h3><hr>
                    <p th:text="${session.ipLocation.country}+'-'+${session.ipLocation.province}+'-'+${session.ipLocation.city}+'-'+${session.ipLocation.isp}">
                        上次登录地点
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="../../static/lib/jquery/jquery-3.7.1.js" th:src="@{/lib/jquery/jquery-3.7.1.js}"></script>
    <script src="../../static/lib/bootstrap/js/bootstrap.bundle.min.js" th:src="@{/lib/bootstrap/js/bootstrap.bundle.min.js}"></script>
    <script src="../../static/lib/highlight/highlight.min.js" th:src="@{/lib/highlight/highlight.min.js}"></script>
    <script src="../../static/lib/waypoints/jquery.waypoints.min.js" th:src="@{/lib/waypoints/jquery.waypoints.min.js}"></script>
    <script src="../../static/js/home_page.js" th:src="@{/js/home_page.js}"></script>
</body>
</html>
